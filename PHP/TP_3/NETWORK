DROP TABLE IF EXISTS DEVICES ;
CREATE TABLE DEVICES (id_device_DEVICES BIGINT AUTO_INCREMENT NOT NULL,
host_name_DEVICES VARCHAR(32),
marque_DEVICES VARCHAR(32),
modele_DEVICES VARCHAR(32),
id_type_DEVICES_TYPE BIGINT,
PRIMARY KEY (id_device_DEVICES)) ENGINE=InnoDB;

DROP TABLE IF EXISTS INTERFACES ;
CREATE TABLE INTERFACES (id_interfaces_INTERFACES BIGINT AUTO_INCREMENT NOT NULL,
nom_interface_INTERFACES VARCHAR(32),
id_device_DEVICES BIGINT,
PRIMARY KEY (id_interfaces_INTERFACES)) ENGINE=InnoDB;

DROP TABLE IF EXISTS LINKS_TYPE ;
CREATE TABLE LINKS_TYPE (id_link_type_LINKS_TYPE BIGINT AUTO_INCREMENT NOT NULL,
nom_type_LINKS_TYPE VARCHAR(32),
vitesse_max_LINKS_TYPE BIGINT,
PRIMARY KEY (id_link_type_LINKS_TYPE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS NETWORKS ;
CREATE TABLE NETWORKS (id_network_NETWORKS BIGINT AUTO_INCREMENT NOT NULL,
ip_network_NETWORKS BIGINT(32),
mask_network_NETWORKS BIGINT(32),
noms_network_NETWORKS VARCHAR(32),
PRIMARY KEY (id_network_NETWORKS)) ENGINE=InnoDB;

DROP TABLE IF EXISTS DEVICES_TYPE ;
CREATE TABLE DEVICES_TYPE (id_type_DEVICES_TYPE BIGINT AUTO_INCREMENT NOT NULL,
nom_type_DEVICES_TYPE VARCHAR(32),
PRIMARY KEY (id_type_DEVICES_TYPE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS est_connecte ;
CREATE TABLE est_connecte (id_link_type_LINKS_TYPE BIGINT AUTO_INCREMENT NOT NULL,
id_interfaces_INTERFACES BIGINT NOT NULL,
id_network_NETWORKS BIGINT NOT NULL,
vitesse_est_connecte BIGINT,
ip_est_connecte BIGINT(32),
PRIMARY KEY (id_link_type_LINKS_TYPE,
 id_interfaces_INTERFACES,
 id_network_NETWORKS)) ENGINE=InnoDB;

ALTER TABLE DEVICES ADD CONSTRAINT FK_DEVICES_id_type_DEVICES_TYPE FOREIGN KEY (id_type_DEVICES_TYPE) REFERENCES DEVICES_TYPE (id_type_DEVICES_TYPE);

ALTER TABLE INTERFACES ADD CONSTRAINT FK_INTERFACES_id_device_DEVICES FOREIGN KEY (id_device_DEVICES) REFERENCES DEVICES (id_device_DEVICES);
ALTER TABLE est_connecte ADD CONSTRAINT FK_est_connecte_id_link_type_LINKS_TYPE FOREIGN KEY (id_link_type_LINKS_TYPE) REFERENCES LINKS_TYPE (id_link_type_LINKS_TYPE);
ALTER TABLE est_connecte ADD CONSTRAINT FK_est_connecte_id_interfaces_INTERFACES FOREIGN KEY (id_interfaces_INTERFACES) REFERENCES INTERFACES (id_interfaces_INTERFACES);
ALTER TABLE est_connecte ADD CONSTRAINT FK_est_connecte_id_network_NETWORKS FOREIGN KEY (id_network_NETWORKS) REFERENCES NETWORKS (id_network_NETWORKS);
